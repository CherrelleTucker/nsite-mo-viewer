<!-- MO-Viewer Navigation Component -->
<nav class="nav-bar">
  <!-- Primary Viewer Tabs (NSITE = "in sight") -->
  <div class="nav-primary">
    <button type="button" class="nav-tab <?= activePage === 'implementation' ? 'active' : '' ?>"
            data-page="implementation"
            onclick="navigateTo('implementation')"
            title="Implementation is in sight">
      <span class="material-icons">folder</span>
      <span class="nav-label">Implementation-NSITE</span>
    </button>

    <button type="button" class="nav-tab <?= activePage === 'sep' ? 'active' : '' ?>"
            data-page="sep"
            onclick="navigateTo('sep')"
            title="SEP is in sight">
      <span class="material-icons">group</span>
      <span class="nav-label">SEP-NSITE</span>
    </button>

    <button type="button" class="nav-tab <?= activePage === 'comms' ? 'active' : '' ?>"
            data-page="comms"
            onclick="navigateTo('comms')"
            title="Comms is in sight">
      <span class="material-icons">chat</span>
      <span class="nav-label">Comms-NSITE</span>
    </button>
  </div>

  <!-- Divider -->
  <div class="nav-divider"></div>

  <!-- Secondary Tabs -->
  <div class="nav-secondary">
    <button type="button" class="nav-tab <?= activePage === 'topsheet' ? 'active' : '' ?>"
            data-page="topsheet"
            onclick="navigateTo('topsheet')"
            title="Solution milestone top sheet">
      <span class="material-icons">table_chart</span>
      <span class="nav-label" style="<?= activePage === 'topsheet' ? '' : 'display:none' ?>">Top Sheet</span>
    </button>

    <button type="button" class="nav-tab <?= activePage === 'quick-update' ? 'active' : '' ?>"
            data-page="quick-update"
            onclick="navigateTo('quick-update')"
            title="Submit updates to meeting agendas">
      <span class="material-icons">edit</span>
      <span class="nav-label">Quick Update</span>
    </button>

    <button type="button" class="nav-tab <?= activePage === 'contacts' ? 'active' : '' ?>"
            data-page="contacts"
            onclick="navigateTo('contacts')"
            title="Browse solution contacts directory">
      <span class="material-icons">menu_book</span>
      <span class="nav-label">Contacts</span>
    </button>

    <button type="button" class="nav-tab <?= activePage === 'reports' ? 'active' : '' ?>"
            data-page="reports"
            onclick="navigateTo('reports')"
            title="Generate and view reports">
      <span class="material-icons">description</span>
      <span class="nav-label">Reports</span>
    </button>

    <button type="button" class="nav-tab <?= activePage === 'schedule' ? 'active' : '' ?>"
            data-page="schedule"
            onclick="navigateTo('schedule')"
            title="View solution milestones timeline">
      <span class="material-icons">calendar_today</span>
      <span class="nav-label">Schedule</span>
    </button>

    <button type="button" class="nav-tab <?= activePage === 'team' ? 'active' : '' ?>"
            data-page="team"
            onclick="navigateTo('team')"
            title="Team availability and meetings">
      <span class="material-icons">how_to_reg</span>
      <span class="nav-label">Team</span>
    </button>
  </div>

  <!-- Right side actions -->
  <div class="nav-actions">
    <button type="button" class="nav-icon-btn" onclick="refreshPage()" title="Refresh page">
      <span class="material-icons">refresh</span>
    </button>
    <button type="button" class="nav-icon-btn <?= activePage === 'about' ? 'active' : '' ?>"
            data-page="about"
            onclick="navigateTo('about')"
            title="About this site">
      <span class="material-icons">info</span>
    </button>
  </div>
</nav>

<script>
function refreshPage() {
  var currentPage = document.querySelector('.nav-tab.active');
  if (currentPage) {
    var page = currentPage.getAttribute('data-page');
    if (page && typeof navigateTo === 'function') {
      navigateTo(page);
    } else {
      window.location.reload();
    }
  } else {
    window.location.reload();
  }
}
</script>
